{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={popularidadAlta:false,generoAccion:false,generoComedia:false,anioLanzamiento:''};export default function Filtros(_ref){let{setPeliculas}=_ref;const[filtros,setFiltros]=useState(initialState);const[filtrosGuardados,setFiltrosGuardados]=useState(initialState);const aplicarFiltros=async()=>{try{let url='https://api.themoviedb.org/3/discover/movie?api_key=b23bf060f0972c01674df2ac3fa6c0a6';const{popularidadAlta,generoAccion,generoComedia,anioLanzamiento}=filtros;if(popularidadAlta){url+='&sort_by=popularity.desc';}if(generoAccion){url+='&with_genres=28';}if(generoComedia){url+='&with_genres=35';}if(anioLanzamiento){url+=\"&primary_release_year=\".concat(anioLanzamiento);}const response=await axios.get(url);setPeliculas(response.data.results);// Guardar los filtros aplicados\nsetFiltrosGuardados({...filtros});}catch(error){console.error('Error al obtener películas:',error);}};const handleCheckboxChange=e=>{const{name,checked}=e.target;setFiltros(prevFiltros=>({...prevFiltros,[name]:checked}));};const handleInputChange=e=>{const{name,value}=e.target;setFiltros(prevFiltros=>({...prevFiltros,[name]:value}));};const limpiarFiltros=()=>{setFiltros(initialState);setFiltrosGuardados(initialState);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filtros\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"popularidadAlta\",checked:filtros.popularidadAlta,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Popularidad Alta\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"generoAccion\",checked:filtros.generoAccion,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{children:\"G\\xE9nero Acci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"generoComedia\",checked:filtros.generoComedia,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{children:\"G\\xE9nero Comedia\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"mt-2 text-black text-center\",type:\"number\",name:\"anioLanzamiento\",value:filtros.anioLanzamiento,onChange:handleInputChange,placeholder:\"A\\xF1o de lanzamiento\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mt-2 bold-btn\",onClick:aplicarFiltros,children:\"Aplicar Filtros\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mt-2 bold-btn\",onClick:limpiarFiltros,children:\"Limpiar Filtros\"})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","initialState","popularidadAlta","generoAccion","generoComedia","anioLanzamiento","Filtros","_ref","setPeliculas","filtros","setFiltros","filtrosGuardados","setFiltrosGuardados","aplicarFiltros","url","concat","response","get","data","results","error","console","handleCheckboxChange","e","name","checked","target","prevFiltros","handleInputChange","value","limpiarFiltros","children","type","onChange","className","placeholder","onClick"],"sources":["C:/Users/marti/Downloads/proyecto v2/proyecto/src/components/Filtros.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n  popularidadAlta: false,\r\n  generoAccion: false,\r\n  generoComedia: false,\r\n  anioLanzamiento: ''\r\n};\r\n\r\nexport default function Filtros({ setPeliculas }) {\r\n  const [filtros, setFiltros] = useState(initialState);\r\n  const [filtrosGuardados, setFiltrosGuardados] = useState(initialState);\r\n\r\n  const aplicarFiltros = async () => {\r\n    try {\r\n      let url = 'https://api.themoviedb.org/3/discover/movie?api_key=b23bf060f0972c01674df2ac3fa6c0a6';\r\n\r\n      const { popularidadAlta, generoAccion, generoComedia, anioLanzamiento } = filtros;\r\n\r\n      if (popularidadAlta) {\r\n        url += '&sort_by=popularity.desc';\r\n      }\r\n\r\n      if (generoAccion) {\r\n        url += '&with_genres=28';\r\n      }\r\n\r\n      if (generoComedia) {\r\n        url += '&with_genres=35';\r\n      }\r\n\r\n      if (anioLanzamiento) {\r\n        url += `&primary_release_year=${anioLanzamiento}`;\r\n      }\r\n\r\n      const response = await axios.get(url);\r\n      setPeliculas(response.data.results);\r\n\r\n      // Guardar los filtros aplicados\r\n      setFiltrosGuardados({ ...filtros });\r\n    } catch (error) {\r\n      console.error('Error al obtener películas:', error);\r\n    }\r\n  };\r\n\r\n  const handleCheckboxChange = (e) => {\r\n    const { name, checked } = e.target;\r\n    setFiltros((prevFiltros) => ({\r\n      ...prevFiltros,\r\n      [name]: checked\r\n    }));\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFiltros((prevFiltros) => ({\r\n      ...prevFiltros,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const limpiarFiltros = () => {\r\n    setFiltros(initialState);\r\n    setFiltrosGuardados(initialState);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Filtros</h3>\r\n      <div>\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"popularidadAlta\"\r\n          checked={filtros.popularidadAlta}\r\n          onChange={handleCheckboxChange}\r\n        />\r\n        <label>Popularidad Alta</label>\r\n      </div>\r\n      <div>\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"generoAccion\"\r\n          checked={filtros.generoAccion}\r\n          onChange={handleCheckboxChange}\r\n        />\r\n        <label>Género Acción</label>\r\n      </div>\r\n      <div>\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"generoComedia\"\r\n          checked={filtros.generoComedia}\r\n          onChange={handleCheckboxChange}\r\n        />\r\n        <label>Género Comedia</label>\r\n      </div>\r\n      <div>\r\n        <input\r\n          className='mt-2 text-black text-center'\r\n          type=\"number\"\r\n          name=\"anioLanzamiento\"\r\n          value={filtros.anioLanzamiento}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Año de lanzamiento\"\r\n        />\r\n      </div>\r\n      <button className='btn btn-light mt-2 bold-btn' onClick={aplicarFiltros}>Aplicar Filtros</button>\r\n      <button className='btn btn-light mt-2 bold-btn' onClick={limpiarFiltros}>Limpiar Filtros</button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}