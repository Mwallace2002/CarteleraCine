{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Busqueda(_ref){let{setPeliculas}=_ref;const[busqueda,setBusqueda]=useState('');const cargarPeliculasPrincipales=async()=>{const apiKey='b23bf060f0972c01674df2ac3fa6c0a6';const apiUrl=\"https://api.themoviedb.org/3/movie/now_playing?api_key=\".concat(apiKey);try{const response=await axios.get(apiUrl);setPeliculas(response.data.results);}catch(error){console.error('Error al obtener películas:',error);}};const handleVolverPrincipal=()=>{cargarPeliculasPrincipales();setBusqueda('');// Limpiar el campo de búsqueda al volver a las películas principales\n};const handleBusqueda=async()=>{if(!busqueda){cargarPeliculasPrincipales();// Si no hay texto en la búsqueda, cargar las películas principales\nreturn;}const apiKey='b23bf060f0972c01674df2ac3fa6c0a6';const apiUrl=\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(apiKey,\"&query=\").concat(busqueda);try{const response=await axios.get(apiUrl);setPeliculas(response.data.results);}catch(error){console.error('Error al obtener películas:',error);}};const handleChange=event=>{setBusqueda(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:busqueda,onChange:handleChange,placeholder:\"Buscar pel\\xEDculas...\",style:{marginRight:'8px'}// Añade un margen a la derecha del campo de búsqueda\n}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light bold-btn\",onClick:handleBusqueda,children:\"Buscar\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mt-2 bold-btn\",onClick:handleVolverPrincipal,children:\"Volver a las pel\\xEDculas principales\"})]});}export default Busqueda;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Busqueda","_ref","setPeliculas","busqueda","setBusqueda","cargarPeliculasPrincipales","apiKey","apiUrl","concat","response","get","data","results","error","console","handleVolverPrincipal","handleBusqueda","handleChange","event","target","value","children","style","display","alignItems","type","onChange","placeholder","marginRight","className","onClick"],"sources":["C:/Users/marti/Downloads/proyecto (1)/proyecto/src/components/Busqueda.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Busqueda({ setPeliculas }) {\r\n  const [busqueda, setBusqueda] = useState('');\r\n\r\n  const cargarPeliculasPrincipales = async () => {\r\n    const apiKey = 'b23bf060f0972c01674df2ac3fa6c0a6';\r\n    const apiUrl = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}`;\r\n\r\n    try {\r\n      const response = await axios.get(apiUrl);\r\n      setPeliculas(response.data.results);\r\n    } catch (error) {\r\n      console.error('Error al obtener películas:', error);\r\n    }\r\n  };\r\n\r\n  const handleVolverPrincipal = () => {\r\n    cargarPeliculasPrincipales();\r\n    setBusqueda(''); // Limpiar el campo de búsqueda al volver a las películas principales\r\n  };\r\n\r\n  const handleBusqueda = async () => {\r\n    if (!busqueda) {\r\n      cargarPeliculasPrincipales(); // Si no hay texto en la búsqueda, cargar las películas principales\r\n      return;\r\n    }\r\n\r\n    const apiKey = 'b23bf060f0972c01674df2ac3fa6c0a6';\r\n    const apiUrl = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${busqueda}`;\r\n\r\n    try {\r\n      const response = await axios.get(apiUrl);\r\n      setPeliculas(response.data.results);\r\n    } catch (error) {\r\n      console.error('Error al obtener películas:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setBusqueda(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <input\r\n          type=\"text\"\r\n          value={busqueda}\r\n          onChange={handleChange}\r\n          placeholder=\"Buscar películas...\"\r\n          style={{ marginRight: '8px' }} // Añade un margen a la derecha del campo de búsqueda\r\n        />\r\n        <button className='btn btn-light bold-btn' onClick={handleBusqueda}>Buscar</button>\r\n      </div>\r\n      <button className='btn btn-light mt-2 bold-btn' onClick={handleVolverPrincipal}>Volver a las películas principales</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Busqueda;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAY,0BAA0B,CAAG,KAAAA,CAAA,GAAY,CAC7C,KAAM,CAAAC,MAAM,CAAG,kCAAkC,CACjD,KAAM,CAAAC,MAAM,2DAAAC,MAAA,CAA6DF,MAAM,CAAE,CAEjF,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAACH,MAAM,CAAC,CACxCL,YAAY,CAACO,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC,CACrC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAE,qBAAqB,CAAGA,CAAA,GAAM,CAClCV,0BAA0B,CAAC,CAAC,CAC5BD,WAAW,CAAC,EAAE,CAAC,CAAE;AACnB,CAAC,CAED,KAAM,CAAAY,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACb,QAAQ,CAAE,CACbE,0BAA0B,CAAC,CAAC,CAAE;AAC9B,OACF,CAEA,KAAM,CAAAC,MAAM,CAAG,kCAAkC,CACjD,KAAM,CAAAC,MAAM,sDAAAC,MAAA,CAAwDF,MAAM,YAAAE,MAAA,CAAUL,QAAQ,CAAE,CAE9F,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAACH,MAAM,CAAC,CACxCL,YAAY,CAACO,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC,CACrC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,KAAK,EAAK,CAC9Bd,WAAW,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAC,CAED,mBACErB,KAAA,QAAAsB,QAAA,eACEtB,KAAA,QAAKuB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAH,QAAA,eACpDxB,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXL,KAAK,CAAEjB,QAAS,CAChBuB,QAAQ,CAAET,YAAa,CACvBU,WAAW,CAAC,wBAAqB,CACjCL,KAAK,CAAE,CAAEM,WAAW,CAAE,KAAM,CAAG;AAAA,CAChC,CAAC,cACF/B,IAAA,WAAQgC,SAAS,CAAC,wBAAwB,CAACC,OAAO,CAAEd,cAAe,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChF,CAAC,cACNxB,IAAA,WAAQgC,SAAS,CAAC,6BAA6B,CAACC,OAAO,CAAEf,qBAAsB,CAAAM,QAAA,CAAC,uCAAkC,CAAQ,CAAC,EACxH,CAAC,CAEV,CAEA,cAAe,CAAArB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}